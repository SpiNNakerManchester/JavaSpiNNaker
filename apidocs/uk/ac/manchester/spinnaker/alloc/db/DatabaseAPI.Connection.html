<!DOCTYPE HTML>
<html lang>
<head>
<!-- Generated by javadoc (21) -->
<title>DatabaseAPI.Connection (SpiNNaker Java Host 7.4.2 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: uk.ac.manchester.spinnaker.alloc.db, interface: DatabaseAPI, interface: Connection">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../script-dir/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/DatabaseAPI.Connection.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li>Field</li>
<li>Constr</li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li>Constr</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">uk.ac.manchester.spinnaker.alloc.db</a></div>
<h1 title="Interface DatabaseAPI.Connection" class="title">Interface DatabaseAPI.Connection</h1>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Superinterfaces:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/AutoCloseable.html" title="class or interface in java.lang" class="external-link">AutoCloseable</a></code></dd>
</dl>
<dl class="notes">
<dt>Enclosing interface:</dt>
<dd><code><a href="DatabaseAPI.html" title="interface in uk.ac.manchester.spinnaker.alloc.db">DatabaseAPI</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public static interface </span><span class="element-name type-name-label">DatabaseAPI.Connection</span><span class="extends-implements">
extends <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/AutoCloseable.html" title="class or interface in java.lang" class="external-link">AutoCloseable</a></span></div>
<div class="block">Connections made by the database engine bean. Its methods do not throw
 checked exceptions. The connection is thread-bound, and will be cleaned
 up correctly when the thread exits (ideal for thread pools).</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#close()" class="member-name-link">close</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Closes this connection and releases any resources.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#isReadOnly()" class="member-name-link">isReadOnly</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Retrieves whether this connection is in read-only mode.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="DatabaseAPI.Query.html" title="interface in uk.ac.manchester.spinnaker.alloc.db">DatabaseAPI.Query</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#query(java.lang.String)" class="member-name-link">query</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;sql)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Create a new query.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="DatabaseAPI.Query.html" title="interface in uk.ac.manchester.spinnaker.alloc.db">DatabaseAPI.Query</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#query(java.lang.String,boolean)" class="member-name-link">query</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;sql,
 boolean&nbsp;lockType)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Create a new query.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="DatabaseAPI.Query.html" title="interface in uk.ac.manchester.spinnaker.alloc.db">DatabaseAPI.Query</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#query(org.springframework.core.io.Resource)" class="member-name-link">query</a><wbr>(<a href="https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/Resource.html" title="class or interface in org.springframework.core.io" class="external-link">Resource</a>&nbsp;sqlResource)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Create a new query.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="DatabaseAPI.Query.html" title="interface in uk.ac.manchester.spinnaker.alloc.db">DatabaseAPI.Query</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#query(org.springframework.core.io.Resource,boolean)" class="member-name-link">query</a><wbr>(<a href="https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/Resource.html" title="class or interface in org.springframework.core.io" class="external-link">Resource</a>&nbsp;sqlResource,
 boolean&nbsp;lockType)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Create a new query.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="DatabaseAPI.Query.html" title="interface in uk.ac.manchester.spinnaker.alloc.db">DatabaseAPI.Query</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#query(uk.ac.manchester.spinnaker.alloc.db.SQL)" class="member-name-link">query</a><wbr>(<a href="SQL.html" title="class in uk.ac.manchester.spinnaker.alloc.db">SQL</a>&nbsp;sql)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Create a new query.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="DatabaseAPI.Query.html" title="interface in uk.ac.manchester.spinnaker.alloc.db">DatabaseAPI.Query</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#query(uk.ac.manchester.spinnaker.alloc.db.SQL,boolean)" class="member-name-link">query</a><wbr>(<a href="SQL.html" title="class in uk.ac.manchester.spinnaker.alloc.db">SQL</a>&nbsp;sql,
 boolean&nbsp;lockType)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Create a new query.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#rollback()" class="member-name-link">rollback</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Undoes all changes made in the current transaction and releases any
 database locks currently held by this connection.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#transaction(boolean,uk.ac.manchester.spinnaker.alloc.db.DatabaseAPI.Transacted)" class="member-name-link">transaction</a><wbr>(boolean&nbsp;lockForWriting,
 <a href="DatabaseAPI.Transacted.html" title="interface in uk.ac.manchester.spinnaker.alloc.db">DatabaseAPI.Transacted</a>&nbsp;operation)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">A nestable transaction runner.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>&lt;T&gt;&nbsp;T</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#transaction(boolean,uk.ac.manchester.spinnaker.alloc.db.DatabaseAPI.TransactedWithResult)" class="member-name-link">transaction</a><wbr>(boolean&nbsp;lockForWriting,
 <a href="DatabaseAPI.TransactedWithResult.html" title="interface in uk.ac.manchester.spinnaker.alloc.db">DatabaseAPI.TransactedWithResult</a>&lt;T&gt;&nbsp;operation)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">A nestable transaction runner.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#transaction(uk.ac.manchester.spinnaker.alloc.db.DatabaseAPI.Transacted)" class="member-name-link">transaction</a><wbr>(<a href="DatabaseAPI.Transacted.html" title="interface in uk.ac.manchester.spinnaker.alloc.db">DatabaseAPI.Transacted</a>&nbsp;operation)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">A nestable transaction runner.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>&lt;T&gt;&nbsp;T</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#transaction(uk.ac.manchester.spinnaker.alloc.db.DatabaseAPI.TransactedWithResult)" class="member-name-link">transaction</a><wbr>(<a href="DatabaseAPI.TransactedWithResult.html" title="interface in uk.ac.manchester.spinnaker.alloc.db">DatabaseAPI.TransactedWithResult</a>&lt;T&gt;&nbsp;operation)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">A nestable transaction runner.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="DatabaseAPI.Update.html" title="interface in uk.ac.manchester.spinnaker.alloc.db">DatabaseAPI.Update</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#update(java.lang.String)" class="member-name-link">update</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;sql)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Create a new update.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="DatabaseAPI.Update.html" title="interface in uk.ac.manchester.spinnaker.alloc.db">DatabaseAPI.Update</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#update(org.springframework.core.io.Resource)" class="member-name-link">update</a><wbr>(<a href="https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/Resource.html" title="class or interface in org.springframework.core.io" class="external-link">Resource</a>&nbsp;sqlResource)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Create a new update.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="DatabaseAPI.Update.html" title="interface in uk.ac.manchester.spinnaker.alloc.db">DatabaseAPI.Update</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#update(uk.ac.manchester.spinnaker.alloc.db.SQL)" class="member-name-link">update</a><wbr>(<a href="SQL.html" title="class in uk.ac.manchester.spinnaker.alloc.db">SQL</a>&nbsp;sql)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Create a new update.</div>
</div>
</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="close()">
<h3>close</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">close</span>()</div>
<div class="block">Closes this connection and releases any resources. The actual
 underlying connection may remain open if the connection pool wishes
 to maintain it, but this handle should not be retained by the caller
 after this point.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/AutoCloseable.html#close()" title="class or interface in java.lang" class="external-link">close</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/AutoCloseable.html" title="class or interface in java.lang" class="external-link">AutoCloseable</a></code></dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.sql/java/sql/Connection.html#close()" title="class or interface in java.sql" class="external-link"><code>Connection.close()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="rollback()">
<h3>rollback</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">rollback</span>()</div>
<div class="block">Undoes all changes made in the current transaction and releases any
 database locks currently held by this connection.
 <p>
 This method should be used only when in a transaction; it is only
 required when the transaction is to be rolled back without throwing
 an exception, as the normal behaviour of the internal transaction
 manager is to roll the transaction back when an exception leaves the
 code inside the transaction boundary.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.sql/java/sql/Connection.html#rollback()" title="class or interface in java.sql" class="external-link"><code>Connection.rollback()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="isReadOnly()">
<h3>isReadOnly</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name">isReadOnly</span>()</div>
<div class="block">Retrieves whether this connection is in read-only mode.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd><code>true</code> if this connection is read-only; <code>false</code>
         otherwise.</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.sql/java/sql/Connection.html#isReadOnly()" title="class or interface in java.sql" class="external-link"><code>Connection.isReadOnly()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="transaction(boolean,uk.ac.manchester.spinnaker.alloc.db.DatabaseAPI.Transacted)">
<h3>transaction</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">transaction</span><wbr><span class="parameters">(boolean&nbsp;lockForWriting,
 <a href="DatabaseAPI.Transacted.html" title="interface in uk.ac.manchester.spinnaker.alloc.db">DatabaseAPI.Transacted</a>&nbsp;operation)</span></div>
<div class="block">A nestable transaction runner. If the <code>operation</code> completes
 normally (and this isn't a nested use), the transaction commits. If
 an exception is thrown, the transaction is rolled back.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>lockForWriting</code> - Whether to lock for writing. Multiple read locks can be
            held at once, but only one write lock. Locks
            <em>cannot</em> be upgraded (because that causes
            deadlocks).</dd>
<dd><code>operation</code> - The operation to run</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="#transaction(uk.ac.manchester.spinnaker.alloc.db.DatabaseAPI.TransactedWithResult)"><code>transaction(DatabaseEngine.TransactedWithResult)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="transaction(uk.ac.manchester.spinnaker.alloc.db.DatabaseAPI.Transacted)">
<h3>transaction</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">transaction</span><wbr><span class="parameters">(<a href="DatabaseAPI.Transacted.html" title="interface in uk.ac.manchester.spinnaker.alloc.db">DatabaseAPI.Transacted</a>&nbsp;operation)</span></div>
<div class="block">A nestable transaction runner. If the <code>operation</code> completes
 normally (and this isn't a nested use), the transaction commits. If
 an exception is thrown, the transaction is rolled back. This uses a
 write lock.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>operation</code> - The operation to run</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="#transaction(uk.ac.manchester.spinnaker.alloc.db.DatabaseAPI.TransactedWithResult)"><code>transaction(DatabaseEngine.TransactedWithResult)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="transaction(uk.ac.manchester.spinnaker.alloc.db.DatabaseAPI.TransactedWithResult)">
<h3>transaction</h3>
<div class="member-signature"><span class="type-parameters">&lt;T&gt;</span>&nbsp;<span class="return-type">T</span>&nbsp;<span class="element-name">transaction</span><wbr><span class="parameters">(<a href="DatabaseAPI.TransactedWithResult.html" title="interface in uk.ac.manchester.spinnaker.alloc.db">DatabaseAPI.TransactedWithResult</a>&lt;T&gt;&nbsp;operation)</span></div>
<div class="block">A nestable transaction runner. If the <code>operation</code> completes
 normally (and this isn't a nested use), the transaction commits. If
 an exception is thrown, the transaction is rolled back. This uses a
 write lock.</div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>T</code> - The type of the result of <code>operation</code></dd>
<dt>Parameters:</dt>
<dd><code>operation</code> - The operation to run</dd>
<dt>Returns:</dt>
<dd>the value returned by <code>operation</code></dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="#transaction(uk.ac.manchester.spinnaker.alloc.db.DatabaseAPI.TransactedWithResult)"><code>transaction(DatabaseEngine.Transacted)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="transaction(boolean,uk.ac.manchester.spinnaker.alloc.db.DatabaseAPI.TransactedWithResult)">
<h3>transaction</h3>
<div class="member-signature"><span class="type-parameters">&lt;T&gt;</span>&nbsp;<span class="return-type">T</span>&nbsp;<span class="element-name">transaction</span><wbr><span class="parameters">(boolean&nbsp;lockForWriting,
 <a href="DatabaseAPI.TransactedWithResult.html" title="interface in uk.ac.manchester.spinnaker.alloc.db">DatabaseAPI.TransactedWithResult</a>&lt;T&gt;&nbsp;operation)</span></div>
<div class="block">A nestable transaction runner. If the <code>operation</code> completes
 normally (and this isn't a nested use), the transaction commits. If
 an exception is thrown, the transaction is rolled back.</div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>T</code> - The type of the result of <code>operation</code></dd>
<dt>Parameters:</dt>
<dd><code>lockForWriting</code> - Whether to lock for writing. Multiple read locks can be
            held at once, but only one write lock. Locks
            <em>cannot</em> be upgraded (because that causes
            deadlocks).</dd>
<dd><code>operation</code> - The operation to run</dd>
<dt>Returns:</dt>
<dd>the value returned by <code>operation</code></dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="#transaction(uk.ac.manchester.spinnaker.alloc.db.DatabaseAPI.TransactedWithResult)"><code>transaction(DatabaseEngine.Transacted)</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="query(java.lang.String)">
<h3>query</h3>
<div class="member-signature"><span class="return-type"><a href="DatabaseAPI.Query.html" title="interface in uk.ac.manchester.spinnaker.alloc.db">DatabaseAPI.Query</a></span>&nbsp;<span class="element-name">query</span><wbr><span class="parameters">(<a href="https://errorprone.info/api/latest/com/google/errorprone/annotations/CompileTimeConstant.html" title="class or interface in com.google.errorprone.annotations" class="external-link">@CompileTimeConstant</a>
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;sql)</span></div>
<div class="block">Create a new query. Usage pattern:
 <pre>
 try (var q = conn.query(SQL_SELECT)) {
     for (var value : q.call(mapper, argument1, argument2)) {
         // Do something with the mapped row
     }
 }
 </pre>
 or:
 <pre>
 try (var q = conn.query(SQL_SELECT)) {
     q.call(mapper, argument1, argument2).forEach(value -&gt; {
         // Do something with the mapped row
     });
 }
 </pre>
 or:
 <pre>
 try (var q = conn.query(SQL_SELECT)) {
     q.call1(mapper, argument1, argument2).ifPresent(value -&gt; {
         // Do something with the mapped row
     });
 }
 </pre></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>sql</code> - The SQL of the query.</dd>
<dt>Returns:</dt>
<dd>The query object.</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="#query(org.springframework.core.io.Resource)"><code>query(Resource)</code></a></li>
<li><a href="#query(uk.ac.manchester.spinnaker.alloc.db.SQL)"><code>query(SQL)</code></a></li>
<li><a href="#update(java.lang.String)"><code>update(String)</code></a></li>
<li><a href="SQLQueries.html" title="class in uk.ac.manchester.spinnaker.alloc.db"><code>SQLQueries</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="query(java.lang.String,boolean)">
<h3>query</h3>
<div class="member-signature"><span class="return-type"><a href="DatabaseAPI.Query.html" title="interface in uk.ac.manchester.spinnaker.alloc.db">DatabaseAPI.Query</a></span>&nbsp;<span class="element-name">query</span><wbr><span class="parameters">(<a href="https://errorprone.info/api/latest/com/google/errorprone/annotations/CompileTimeConstant.html" title="class or interface in com.google.errorprone.annotations" class="external-link">@CompileTimeConstant</a>
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;sql,
 boolean&nbsp;lockType)</span></div>
<div class="block">Create a new query. Usage pattern:
 <pre>
 try (var q = conn.query(SQL_SELECT, false)) {
     for (var value : q.call(mapper, argument1, argument2)) {
         // Do something with the mapped row
     }
 }
 </pre>
 or:
 <pre>
 try (var q = conn.query(SQL_SELECT, false)) {
     q.call(mapper, argument1, argument2).forEach(value -&gt; {
         // Do something with the mapped row
     });
 }
 </pre>
 or:
 <pre>
 try (var q = conn.query(SQL_SELECT, false)) {
     q.call1(mapper, argument1, argument2).ifPresent(value -&gt; {
         // Do something with the mapped row
     });
 }
 </pre></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>sql</code> - The SQL of the query.</dd>
<dd><code>lockType</code> - Whether we expect to have a write lock. This is vital</dd>
<dt>Returns:</dt>
<dd>The query object.</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="#query(org.springframework.core.io.Resource)"><code>query(Resource)</code></a></li>
<li><a href="#query(uk.ac.manchester.spinnaker.alloc.db.SQL)"><code>query(SQL)</code></a></li>
<li><a href="#update(java.lang.String)"><code>update(String)</code></a></li>
<li><a href="SQLQueries.html" title="class in uk.ac.manchester.spinnaker.alloc.db"><code>SQLQueries</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="query(org.springframework.core.io.Resource)">
<h3>query</h3>
<div class="member-signature"><span class="return-type"><a href="DatabaseAPI.Query.html" title="interface in uk.ac.manchester.spinnaker.alloc.db">DatabaseAPI.Query</a></span>&nbsp;<span class="element-name">query</span><wbr><span class="parameters">(<a href="https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/Resource.html" title="class or interface in org.springframework.core.io" class="external-link">Resource</a>&nbsp;sqlResource)</span></div>
<div class="block">Create a new query.
 <pre>
 try (var q = conn.query(sqlSelectResource)) {
     for (var value : q.call(mapper, argument1, argument2)) {
         // Do something with the mapped row
     }
 }
 </pre>
 or:
 <pre>
 try (var q = conn.query(sqlSelectResource)) {
     q.call(mapper, argument1, argument2).forEach(value -&gt; {
         // Do something with the mapped row
     });
 }
 </pre>
 or:
 <pre>
 try (var q = conn.query(sqlSelectResource)) {
     q.call1(mapper, argument1, argument2).ifPresent(value -&gt; {
         // Do something with the mapped row
     });
 }
 </pre></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>sqlResource</code> - Reference to the SQL of the query.</dd>
<dt>Returns:</dt>
<dd>The query object.</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="#query(java.lang.String)"><code>query(String)</code></a></li>
<li><a href="#query(uk.ac.manchester.spinnaker.alloc.db.SQL)"><code>query(SQL)</code></a></li>
<li><a href="#update(org.springframework.core.io.Resource)"><code>update(Resource)</code></a></li>
<li><a href="SQLQueries.html" title="class in uk.ac.manchester.spinnaker.alloc.db"><code>SQLQueries</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="query(org.springframework.core.io.Resource,boolean)">
<h3>query</h3>
<div class="member-signature"><span class="return-type"><a href="DatabaseAPI.Query.html" title="interface in uk.ac.manchester.spinnaker.alloc.db">DatabaseAPI.Query</a></span>&nbsp;<span class="element-name">query</span><wbr><span class="parameters">(<a href="https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/Resource.html" title="class or interface in org.springframework.core.io" class="external-link">Resource</a>&nbsp;sqlResource,
 boolean&nbsp;lockType)</span></div>
<div class="block">Create a new query.
 <pre>
 try (var q = conn.query(sqlSelectResource, false)) {
     for (var value : q.call(mapper, argument1, argument2)) {
         // Do something with the mapped row
     }
 }
 </pre>
 or:
 <pre>
 try (var q = conn.query(sqlSelectResource, false)) {
     q.call(mapper, argument1, argument2).forEach(value -&gt; {
         // Do something with the mapped row
     });
 }
 </pre>
 or:
 <pre>
 try (var q = conn.query(sqlSelectResource, false)) {
     q.call1(mapper, argument1, argument2).ifPresent(value -&gt; {
         // Do something with the mapped row
     });
 }
 </pre></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>sqlResource</code> - Reference to the SQL of the query.</dd>
<dd><code>lockType</code> - Whether we expect to have a write lock. This is vital
            only when the query is an <code>UPDATE RETURNING</code>.</dd>
<dt>Returns:</dt>
<dd>The query object.</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="#query(java.lang.String)"><code>query(String)</code></a></li>
<li><a href="#query(uk.ac.manchester.spinnaker.alloc.db.SQL)"><code>query(SQL)</code></a></li>
<li><a href="#update(org.springframework.core.io.Resource)"><code>update(Resource)</code></a></li>
<li><a href="SQLQueries.html" title="class in uk.ac.manchester.spinnaker.alloc.db"><code>SQLQueries</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="query(uk.ac.manchester.spinnaker.alloc.db.SQL)">
<h3>query</h3>
<div class="member-signature"><span class="return-type"><a href="DatabaseAPI.Query.html" title="interface in uk.ac.manchester.spinnaker.alloc.db">DatabaseAPI.Query</a></span>&nbsp;<span class="element-name">query</span><wbr><span class="parameters">(<a href="SQL.html" title="class in uk.ac.manchester.spinnaker.alloc.db">SQL</a>&nbsp;sql)</span></div>
<div class="block">Create a new query. Usage pattern:
 <pre>
 try (var q = conn.query(new SQL(SQL_SELECT))) {
     for (var value : q.call(mapper, argument1, argument2)) {
         // Do something with the mapped row
     }
 }
 </pre>
 or:
 <pre>
 try (var q = conn.query(new SQL(SQL_SELECT))) {
     q.call(mapper, argument1, argument2).forEach(value -&gt; {
         // Do something with the mapped row
     });
 }
 </pre>
 or:
 <pre>
 try (var q = conn.query(new SQL(SQL_SELECT))) {
     q.call1(mapper, argument1, argument2).ifPresent(value -&gt; {
         // Do something with the mapped row
     });
 }
 </pre></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>sql</code> - The SQL of the query.</dd>
<dt>Returns:</dt>
<dd>The query object.</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="#query(java.lang.String)"><code>query(String)</code></a></li>
<li><a href="#query(org.springframework.core.io.Resource)"><code>query(Resource)</code></a></li>
<li><a href="#update(java.lang.String)"><code>update(String)</code></a></li>
<li><a href="SQLQueries.html" title="class in uk.ac.manchester.spinnaker.alloc.db"><code>SQLQueries</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="query(uk.ac.manchester.spinnaker.alloc.db.SQL,boolean)">
<h3>query</h3>
<div class="member-signature"><span class="return-type"><a href="DatabaseAPI.Query.html" title="interface in uk.ac.manchester.spinnaker.alloc.db">DatabaseAPI.Query</a></span>&nbsp;<span class="element-name">query</span><wbr><span class="parameters">(<a href="SQL.html" title="class in uk.ac.manchester.spinnaker.alloc.db">SQL</a>&nbsp;sql,
 boolean&nbsp;lockType)</span></div>
<div class="block">Create a new query. Usage pattern:
 <pre>
 try (var q = conn.query(SQL_SELECT, false)) {
     for (var value : q.call(mapper, argument1, argument2)) {
         // Do something with the mapped row
     }
 }
 </pre>
 or:
 <pre>
 try (var q = conn.query(SQL_SELECT, false)) {
     q.call(mapper, argument1, argument2).forEach(value -&gt; {
         // Do something with the mapped row
     });
 }
 </pre>
 or:
 <pre>
 try (var q = conn.query(SQL_SELECT, false)) {
     q.call1(mapper, argument1, argument2).ifPresent(value -&gt; {
         // Do something with the mapped row
     });
 }
 </pre></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>sql</code> - The SQL of the query.</dd>
<dd><code>lockType</code> - Whether we expect to have a write lock. This is vital</dd>
<dt>Returns:</dt>
<dd>The query object.</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="#query(java.lang.String)"><code>query(String)</code></a></li>
<li><a href="#query(org.springframework.core.io.Resource)"><code>query(Resource)</code></a></li>
<li><a href="#update(java.lang.String)"><code>update(String)</code></a></li>
<li><a href="SQLQueries.html" title="class in uk.ac.manchester.spinnaker.alloc.db"><code>SQLQueries</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="update(java.lang.String)">
<h3>update</h3>
<div class="member-signature"><span class="return-type"><a href="DatabaseAPI.Update.html" title="interface in uk.ac.manchester.spinnaker.alloc.db">DatabaseAPI.Update</a></span>&nbsp;<span class="element-name">update</span><wbr><span class="parameters">(<a href="https://errorprone.info/api/latest/com/google/errorprone/annotations/CompileTimeConstant.html" title="class or interface in com.google.errorprone.annotations" class="external-link">@CompileTimeConstant</a>
 <a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;sql)</span></div>
<div class="block">Create a new update. Usage pattern:
 <pre>
 try (var u = conn.update(SQL_UPDATE)) {
     int numRows = u.call(argument1, argument2);
 }
 </pre>
 or:
 <pre>
 try (var u = conn.update(SQL_INSERT)) {
     for (var key : u.keys(argument1, argument2)) {
         // Do something with the key
     }
 }
 </pre>
 or even:
 <pre>
 try (var u = conn.update(SQL_INSERT)) {
     u.key(argument1, argument2).ifPresent(key -&gt; {
         // Do something with the key
     });
 }
 </pre>
 <p>
 <strong>Note:</strong> If you use a <code>RETURNING</code> clause then
 you should use a <a href="DatabaseAPI.Query.html" title="interface in uk.ac.manchester.spinnaker.alloc.db"><code>DatabaseAPI.Query</code></a> with the <code>lockType</code> set to
 <code>true</code>.
 <em><code>RETURNING</code> clauses are not supported by MySQL.</em></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>sql</code> - The SQL of the update.</dd>
<dt>Returns:</dt>
<dd>The update object.</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="#update(org.springframework.core.io.Resource)"><code>update(Resource)</code></a></li>
<li><a href="#update(uk.ac.manchester.spinnaker.alloc.db.SQL)"><code>update(SQL)</code></a></li>
<li><a href="#query(java.lang.String)"><code>query(String)</code></a></li>
<li><a href="SQLQueries.html" title="class in uk.ac.manchester.spinnaker.alloc.db"><code>SQLQueries</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="update(org.springframework.core.io.Resource)">
<h3>update</h3>
<div class="member-signature"><span class="return-type"><a href="DatabaseAPI.Update.html" title="interface in uk.ac.manchester.spinnaker.alloc.db">DatabaseAPI.Update</a></span>&nbsp;<span class="element-name">update</span><wbr><span class="parameters">(<a href="https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/Resource.html" title="class or interface in org.springframework.core.io" class="external-link">Resource</a>&nbsp;sqlResource)</span></div>
<div class="block">Create a new update.
 <pre>
 try (var u = conn.update(sqlUpdateResource)) {
     int numRows = u.call(argument1, argument2);
 }
 </pre>
 or:
 <pre>
 try (var u = conn.update(sqlInsertResource)) {
     for (var key : u.keys(argument1, argument2)) {
         // Do something with the key
     }
 }
 </pre>
 or even:
 <pre>
 try (var u = conn.update(sqlInsertResource)) {
     u.key(argument1, argument2).ifPresent(key -&gt; {
         // Do something with the key
     });
 }
 </pre>
 <p>
 <strong>Note:</strong> If you use a <code>RETURNING</code> clause then
 you should use a <a href="DatabaseAPI.Query.html" title="interface in uk.ac.manchester.spinnaker.alloc.db"><code>DatabaseAPI.Query</code></a> with the <code>lockType</code> set to
 <code>true</code>.
 <em><code>RETURNING</code> clauses are not supported by MySQL.</em></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>sqlResource</code> - Reference to the SQL of the update.</dd>
<dt>Returns:</dt>
<dd>The update object.</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="#update(java.lang.String)"><code>update(String)</code></a></li>
<li><a href="#update(uk.ac.manchester.spinnaker.alloc.db.SQL)"><code>update(SQL)</code></a></li>
<li><a href="#query(org.springframework.core.io.Resource)"><code>query(Resource)</code></a></li>
<li><a href="SQLQueries.html" title="class in uk.ac.manchester.spinnaker.alloc.db"><code>SQLQueries</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="update(uk.ac.manchester.spinnaker.alloc.db.SQL)">
<h3>update</h3>
<div class="member-signature"><span class="return-type"><a href="DatabaseAPI.Update.html" title="interface in uk.ac.manchester.spinnaker.alloc.db">DatabaseAPI.Update</a></span>&nbsp;<span class="element-name">update</span><wbr><span class="parameters">(<a href="SQL.html" title="class in uk.ac.manchester.spinnaker.alloc.db">SQL</a>&nbsp;sql)</span></div>
<div class="block">Create a new update. Usage pattern:
 <pre>
 try (var u = conn.update(new SQL(SQL_UPDATE))) {
     int numRows = u.call(argument1, argument2);
 }
 </pre>
 or:
 <pre>
 try (var u = conn.update(new SQL(SQL_INSERT))) {
     for (var key : u.keys(argument1, argument2)) {
         // Do something with the key
     }
 }
 </pre>
 or even:
 <pre>
 try (var u = conn.update(new SQL(SQL_INSERT))) {
     u.key(argument1, argument2).ifPresent(key -&gt; {
         // Do something with the key
     });
 }
 </pre>
 <p>
 <strong>Note:</strong> If you use a <code>RETURNING</code> clause then
 you should use a <a href="DatabaseAPI.Query.html" title="interface in uk.ac.manchester.spinnaker.alloc.db"><code>DatabaseAPI.Query</code></a> with the <code>lockType</code> set to
 <code>true</code>.
 <em><code>RETURNING</code> clauses are not supported by MySQL.</em></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>sql</code> - The SQL of the update.</dd>
<dt>Returns:</dt>
<dd>The update object.</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="#update(java.lang.String)"><code>update(String)</code></a></li>
<li><a href="#update(org.springframework.core.io.Resource)"><code>update(Resource)</code></a></li>
<li><a href="#query(java.lang.String)"><code>query(String)</code></a></li>
<li><a href="SQLQueries.html" title="class in uk.ac.manchester.spinnaker.alloc.db"><code>SQLQueries</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2018&#x2013;2026 <a href="https://apt.cs.manchester.ac.uk/projects/SpiNNaker/">SpiNNaker Team @ University of Manchester</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
